<p id="notice"><%= notice %></p>

<h1>Liste des articles</h1>

<table class="table">
  <thead>
    <tr>
      <th>Nom</th>
      <th>Contenu</th>
      <th>Chemin image</th>
      <th>Utilisateur</th>
      <th>Catégorie</th>
      <th colspan="3"></th>
    </tr>
  </thead>

  <tbody class="table-striped">
    <% @articles.each do |article| %>
      <tr>
        <td><%= article.name %></td>
        <td><%= truncate(article.content, :length => 100) %></td>
        <td>
          <% image = article.image %>
          <% if image.nil? %>
              Aucune
          <% else %>
              <%= image.path %>
          <% end %>
        </td>
        <td>
          <% user = article.user %>
          <% if user.nil? %>
              Aucun
          <% else %>
              <%= user.login %>
          <% end %>
        </td>
        <td>
          <% category = article.category %>
          <% if category.nil? %>
              Aucune
          <% else %>
              <%= category.name %>
          <% end %>
        </td>
        <td>
          <%= link_to 'Afficher', article, class: 'btn btn-info' %>
          <%= link_to 'Modifier', edit_admin_article_path(article), class: 'btn btn-warning' %>
          <%= link_to 'Supprimer', admin_article_path(article),
                      method: :delete,
                      data: {
                          confirm: 'Etes-vous sur de vouloir supprimer cet article ?'
                      },
                      class: 'btn btn-danger' %>
        </td>
      </tr>
    <% end %>
  </tbody>
</table>

<br>

<%= link_to 'Créer un article', new_admin_article_path, class: 'btn btn-success' %>
